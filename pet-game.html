<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è™šæ‹Ÿå® ç‰©</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .game-container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 400px;
            width: 100%;
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
        }
        .pet-display {
            text-align: center;
            font-size: 100px;
            margin: 20px 0;
            animation: bounce 2s infinite;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .pet-name {
            text-align: center;
            font-size: 24px;
            color: #555;
            margin-bottom: 20px;
        }
        .stats {
            display: grid;
            gap: 10px;
            margin-bottom: 20px;
        }
        .stat-bar {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .stat-label {
            width: 60px;
            font-size: 14px;
            color: #666;
        }
        .stat-progress {
            flex: 1;
            height: 20px;
            background: #eee;
            border-radius: 10px;
            overflow: hidden;
        }
        .stat-fill {
            height: 100%;
            border-radius: 10px;
            transition: width 0.3s, background-color 0.3s;
        }
        .hunger-fill { background: #ff6b6b; }
        .happy-fill { background: #ffd93d; }
        .energy-fill { background: #6bcf7f; }
        .health-fill { background: #4d96ff; }
        .stat-value {
            width: 40px;
            text-align: right;
            font-size: 14px;
            color: #333;
        }
        .actions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        .btn {
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .btn-feed { background: #ff6b6b; color: white; }
        .btn-play { background: #ffd93d; color: #333; }
        .btn-sleep { background: #6bcf7f; color: white; }
        .btn-heal { background: #4d96ff; color: white; }
        .message {
            text-align: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-bottom: 15px;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #555;
        }
        .level-info {
            text-align: center;
            margin-bottom: 15px;
        }
        .level {
            font-size: 18px;
            color: #667eea;
            font-weight: bold;
        }
        .exp-bar {
            width: 100%;
            height: 10px;
            background: #eee;
            border-radius: 5px;
            margin-top: 5px;
            overflow: hidden;
        }
        .exp-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 5px;
            transition: width 0.3s;
        }
        .pet-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        .pet-option {
            font-size: 40px;
            cursor: pointer;
            padding: 10px;
            border-radius: 10px;
            transition: all 0.3s;
            opacity: 0.5;
        }
        .pet-option:hover, .pet-option.selected {
            opacity: 1;
            background: #f0f0f0;
            transform: scale(1.1);
        }
        .start-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            cursor: pointer;
            margin-bottom: 20px;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>ğŸ® è™šæ‹Ÿå® ç‰©</h1>
        
        <!-- å® ç‰©é€‰æ‹©ç•Œé¢ -->
        <div id="petSelect">
            <p style="text-align: center; margin-bottom: 15px; color: #666;">é€‰æ‹©ä½ çš„å® ç‰©ï¼š</p>
            <div class="pet-selector">
                <span class="pet-option selected" onclick="selectPet(this)" data-pet="ğŸ±" data-name="å°çŒ«">ğŸ±</span>
                <span class="pet-option" onclick="selectPet(this)" data-pet="ğŸ¶" data-name="å°ç‹—">ğŸ¶</span>
                <span class="pet-option" onclick="selectPet(this)" data-pet="ğŸ°" data-name="å°å…”">ğŸ°</span>
                <span class="pet-option" onclick="selectPet(this)" data-pet="ğŸ¼" data-name="ç†ŠçŒ«">ğŸ¼</span>
            </div>
            <button class="start-btn" onclick="startGame()">å¼€å§‹æ¸¸æˆ</button>
        </div>

        <!-- æ¸¸æˆä¸»ç•Œé¢ -->
        <div id="gameMain" class="hidden">
            <div class="pet-display" id="petEmoji">ğŸ±</div>
            <div class="pet-name" id="petName">å°çŒ«</div>
            
            <div class="level-info">
                <div class="level">ç­‰çº§ <span id="level">1</span></div>
                <div class="exp-bar">
                    <div class="exp-fill" id="expFill" style="width: 0%"></div>
                </div>
            </div>

            <div class="message" id="message">ä½ çš„å® ç‰©å¾ˆå¼€å¿ƒï¼</div>

            <div class="stats">
                <div class="stat-bar">
                    <span class="stat-label">ğŸ– é¥±é£Ÿ</span>
                    <div class="stat-progress">
                        <div class="stat-fill hunger-fill" id="hunger" style="width: 80%"></div>
                    </div>
                    <span class="stat-value" id="hungerVal">80</span>
                </div>
                <div class="stat-bar">
                    <span class="stat-label">ğŸ˜Š å¿ƒæƒ…</span>
                    <div class="stat-progress">
                        <div class="stat-fill happy-fill" id="happy" style="width: 80%"></div>
                    </div>
                    <span class="stat-value" id="happyVal">80</span>
                </div>
                <div class="stat-bar">
                    <span class="stat-label">âš¡ ç²¾åŠ›</span>
                    <div class="stat-progress">
                        <div class="stat-fill energy-fill" id="energy" style="width: 80%"></div>
                    </div>
                    <span class="stat-value" id="energyVal">80</span>
                </div>
                <div class="stat-bar">
                    <span class="stat-label">â¤ï¸ å¥åº·</span>
                    <div class="stat-progress">
                        <div class="stat-fill health-fill" id="health" style="width: 100%"></div>
                    </div>
                    <span class="stat-value" id="healthVal">100</span>
                </div>
            </div>

            <div class="actions">
                <button class="btn btn-feed" onclick="feed()">ğŸ– å–‚é£Ÿ</button>
                <button class="btn btn-play" onclick="play()">ğŸ¾ ç©è€</button>
                <button class="btn btn-sleep" onclick="sleep()">ğŸ˜´ ç¡è§‰</button>
                <button class="btn btn-heal" onclick="heal()">ğŸ’Š æ²»ç–—</button>
            </div>
        </div>
    </div>

    <script>
        // æ¸¸æˆçŠ¶æ€
        let pet = {
            emoji: 'ğŸ±',
            name: 'å°çŒ«',
            hunger: 80,
            happy: 80,
            energy: 80,
            health: 100,
            level: 1,
            exp: 0,
            maxExp: 100
        };

        let gameInterval;
        let selectedPet = { emoji: 'ğŸ±', name: 'å°çŒ«' };

        // å® ç‰©é€‰æ‹©
        function selectPet(element) {
            document.querySelectorAll('.pet-option').forEach(p => p.classList.remove('selected'));
            element.classList.add('selected');
            selectedPet = {
                emoji: element.dataset.pet,
                name: element.dataset.name
            };
        }

        // å¼€å§‹æ¸¸æˆ
        function startGame() {
            // å¦‚æœå·²ç»æœ‰æ¸¸æˆåœ¨è¿è¡Œï¼Œå…ˆåœæ­¢
            if (gameInterval) {
                clearInterval(gameInterval);
            }
            
            pet.emoji = selectedPet.emoji;
            pet.name = selectedPet.name;
            
            document.getElementById('petSelect').classList.add('hidden');
            document.getElementById('gameMain').classList.remove('hidden');
            
            document.getElementById('petEmoji').textContent = pet.emoji;
            document.getElementById('petName').textContent = pet.name;
            
            updateDisplay();
            startGameLoop();
        }

        // æ›´æ–°æ˜¾ç¤º
        function updateDisplay() {
            document.getElementById('hunger').style.width = pet.hunger + '%';
            document.getElementById('hungerVal').textContent = Math.floor(pet.hunger);
            
            document.getElementById('happy').style.width = pet.happy + '%';
            document.getElementById('happyVal').textContent = Math.floor(pet.happy);
            
            document.getElementById('energy').style.width = pet.energy + '%';
            document.getElementById('energyVal').textContent = Math.floor(pet.energy);
            
            document.getElementById('health').style.width = pet.health + '%';
            document.getElementById('healthVal').textContent = Math.floor(pet.health);
            
            document.getElementById('level').textContent = pet.level;
            document.getElementById('expFill').style.width = (pet.exp / pet.maxExp * 100) + '%';
        }

        // æ˜¾ç¤ºæ¶ˆæ¯
        function showMessage(msg) {
            document.getElementById('message').textContent = msg;
        }

        // å¢åŠ ç»éªŒ
        function addExp(amount) {
            pet.exp += amount;
            if (pet.exp >= pet.maxExp) {
                pet.exp -= pet.maxExp;
                pet.level++;
                pet.maxExp = Math.floor(pet.maxExp * 1.2);
                showMessage(`ğŸ‰ å‡çº§äº†ï¼ç°åœ¨ç­‰çº§ ${pet.level}`);
            }
        }

        // å–‚é£Ÿ
        function feed() {
            if (pet.hunger >= 100) {
                showMessage('å® ç‰©å·²ç»åƒé¥±äº†ï¼');
                return;
            }
            pet.hunger = Math.min(100, pet.hunger + 20);
            pet.energy = Math.min(100, pet.energy + 5);
            addExp(10);
            showMessage('ğŸ– å® ç‰©åƒå¾—å¾ˆå¼€å¿ƒï¼');
            updateDisplay();
        }

        // ç©è€
        function play() {
            if (pet.energy < 20) {
                showMessage('å® ç‰©å¤ªç´¯äº†ï¼Œéœ€è¦ä¼‘æ¯ï¼');
                return;
            }
            pet.happy = Math.min(100, pet.happy + 15);
            pet.energy -= 15;
            pet.hunger -= 10;
            addExp(15);
            showMessage('ğŸ¾ ç©å¾—å¾ˆå¼€å¿ƒï¼');
            updateDisplay();
        }

        // ç¡è§‰
        function sleep() {
            pet.energy = Math.min(100, pet.energy + 30);
            pet.health = Math.min(100, pet.health + 10);
            pet.hunger -= 5;
            addExp(5);
            showMessage('ğŸ˜´ ç¡äº†ä¸ªå¥½è§‰ï¼Œç²¾åŠ›å……æ²›ï¼');
            updateDisplay();
        }

        // æ²»ç–—
        function heal() {
            if (pet.health >= 100) {
                showMessage('å® ç‰©å¾ˆå¥åº·ï¼Œä¸éœ€è¦æ²»ç–—ï¼');
                return;
            }
            pet.health = Math.min(100, pet.health + 25);
            pet.happy = Math.max(0, pet.happy - 5);
            addExp(8);
            showMessage('ğŸ’Š æ²»ç–—å®Œæˆï¼Œæ„Ÿè§‰å¥½å¤šäº†ï¼');
            updateDisplay();
        }

        // æ¸¸æˆå¾ªç¯
        function startGameLoop() {
            gameInterval = setInterval(() => {
                // è‡ªç„¶è¡°å‡
                pet.hunger = Math.max(0, pet.hunger - 2);
                pet.happy = Math.max(0, pet.happy - 1);
                pet.energy = Math.max(0, pet.energy - 1);
                
                // å¥åº·å½±å“
                if (pet.hunger < 20 || pet.energy < 10) {
                    pet.health = Math.max(0, pet.health - 2);
                }
                
                // çŠ¶æ€æç¤º
                if (pet.hunger < 30 && pet.hunger > 28) {
                    showMessage('ğŸ– å® ç‰©é¥¿äº†ï¼Œå¿«å–‚é£Ÿå§ï¼');
                } else if (pet.happy < 30 && pet.happy > 28) {
                    showMessage('ğŸ˜¢ å® ç‰©ä¸å¼€å¿ƒäº†ï¼Œé™ªå®ƒç©ç©å§ï¼');
                } else if (pet.energy < 20 && pet.energy > 18) {
                    showMessage('ğŸ˜´ å® ç‰©å¾ˆç´¯äº†ï¼Œè®©å®ƒä¼‘æ¯å§ï¼');
                } else if (pet.health < 50 && pet.health > 48) {
                    showMessage('ğŸ’Š å® ç‰©ç”Ÿç—…äº†ï¼Œéœ€è¦æ²»ç–—ï¼');
                }
                
                updateDisplay();
            }, 3000); // æ¯3ç§’æ›´æ–°ä¸€æ¬¡
        }
    </script>
</body>
</html>